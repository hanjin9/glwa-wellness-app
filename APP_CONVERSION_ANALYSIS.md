# GLWA 웰니스 앱 - 네이티브 앱 전환 전략 분석 보고서

## 1. 현재 프로젝트 자산 현황

### 기술 스택

| 구분 | 현재 기술 | 상태 |
|------|----------|------|
| 프론트엔드 | React 19 + TypeScript + Tailwind CSS 4 | ✅ 완성 |
| 백엔드 | Express + tRPC + Node.js | ✅ 완성 |
| 데이터베이스 | MySQL/TiDB + Drizzle ORM | ✅ 완성 |
| 인증 | Manus OAuth | ✅ 완성 |
| 결제 | Stripe | ✅ 완성 |
| 파일 저장 | AWS S3 | ✅ 완성 |

### 코드 자산 규모

| 항목 | 수량 | 재사용 가능 여부 |
|------|------|-----------------|
| 페이지 컴포넌트 | 22개 | 방법에 따라 다름 |
| 공통 컴포넌트 | 15개 | 방법에 따라 다름 |
| DB 스키마 (테이블) | 668줄 (약 30개 테이블) | ✅ 100% 재사용 |
| 서버 API (tRPC) | 842줄 | ✅ 100% 재사용 |
| 테스트 코드 | 57개 테스트 | ✅ 100% 재사용 |

---

## 2. 앱 전환 방법 비교 분석

### 방법 A: Capacitor (웹앱 래핑)

> 현재 React 웹앱을 그대로 네이티브 컨테이너에 넣어서 App Store/Play Store에 배포하는 방법

| 항목 | 내용 |
|------|------|
| **원리** | 웹앱을 WebView로 감싸서 네이티브 앱처럼 동작 |
| **코드 재사용률** | **95~100%** (프론트엔드 + 백엔드 전부) |
| **작업 시간** | **1~2일** |
| **난이도** | ★☆☆☆☆ (매우 쉬움) |
| **App Store 배포** | ✅ 가능 (iOS + Android) |
| **Play Store 배포** | ✅ 가능 |
| **네이티브 기능** | 카메라, GPS, 푸시알림, 파일시스템 등 플러그인으로 지원 |
| **성능** | 웹 수준 (일반 앱과 거의 동일, 게임이 아니므로 충분) |
| **장점** | 현재 코드 거의 그대로 사용, 가장 빠른 방법 |
| **단점** | 복잡한 애니메이션이나 고성능 그래픽에는 한계 |
| **적합도** | ★★★★★ (GLWA 앱에 최적) |

### 방법 B: PWA (Progressive Web App)

> 웹앱에 서비스 워커와 매니페스트를 추가하여 "홈 화면에 추가"로 앱처럼 사용

| 항목 | 내용 |
|------|------|
| **원리** | 브라우저 기반이지만 앱처럼 동작 (오프라인, 설치 가능) |
| **코드 재사용률** | **100%** |
| **작업 시간** | **반나절** |
| **난이도** | ★☆☆☆☆ |
| **App Store 배포** | ⚠️ iOS는 제한적 (PWABuilder 사용 시 가능하나 심사 까다로움) |
| **Play Store 배포** | ✅ TWA(Trusted Web Activity)로 가능 |
| **네이티브 기능** | 제한적 (푸시알림 iOS에서 제한, 카메라 접근 제한) |
| **성능** | 웹 수준 |
| **장점** | 가장 빠르고 쉬움, 별도 앱스토어 심사 불필요 |
| **단점** | **App Store 배포가 어렵고, iOS에서 기능 제한** |
| **적합도** | ★★★☆☆ (App Store 배포 목표에는 부적합) |

### 방법 C: React Native (완전 재작성)

> 현재 React 코드를 React Native로 완전히 다시 작성

| 항목 | 내용 |
|------|------|
| **원리** | JavaScript로 네이티브 UI 컴포넌트를 직접 렌더링 |
| **코드 재사용률** | **백엔드 100% + 프론트엔드 10~20%** (로직만 재사용, UI 전부 다시 작성) |
| **작업 시간** | **2~4주** |
| **난이도** | ★★★★☆ (높음) |
| **App Store 배포** | ✅ 가능 |
| **Play Store 배포** | ✅ 가능 |
| **네이티브 기능** | 완벽 지원 |
| **성능** | 네이티브에 가까움 |
| **장점** | 가장 네이티브에 가까운 성능과 UX |
| **단점** | **프론트엔드 22개 페이지 + 15개 컴포넌트 전부 다시 작성 필요** |
| **적합도** | ★★☆☆☆ (시간 대비 효율 낮음) |

### 방법 D: Flutter (완전 재작성)

> Dart 언어로 처음부터 다시 작성

| 항목 | 내용 |
|------|------|
| **원리** | Dart 언어 + 자체 렌더링 엔진 |
| **코드 재사용률** | **백엔드 100% + 프론트엔드 0%** (전부 다시 작성) |
| **작업 시간** | **3~6주** |
| **난이도** | ★★★★★ (매우 높음) |
| **적합도** | ★☆☆☆☆ (비효율적) |

---

## 3. 최종 추천: Capacitor (방법 A)

### 추천 이유

GLWA 웰니스 앱의 특성상 **Capacitor가 최적의 선택**입니다.

1. **코드 재사용률 95~100%**: 현재 만들어 놓은 22개 페이지, 15개 컴포넌트, 30개 DB 테이블, 57개 테스트를 **전부 그대로 사용**합니다.
2. **작업 시간 1~2일**: 오늘 안에 완성 가능합니다.
3. **App Store + Play Store 배포 가능**: 실제 네이티브 앱으로 배포됩니다.
4. **건강 앱에 필요한 기능 모두 지원**: 카메라(사진 인증), GPS(위치), 푸시알림(건강 알림), 파일 접근 등 모두 Capacitor 플러그인으로 지원합니다.
5. **2번 일하는 것 없음**: 웹 버전과 앱 버전을 동시에 유지할 수 있습니다.

### Capacitor 전환 시 변경 사항

| 작업 | 내용 | 시간 |
|------|------|------|
| Capacitor 설치 및 초기화 | `npm install @capacitor/core @capacitor/cli` | 10분 |
| 앱 설정 (capacitor.config.ts) | 앱 이름, 번들 ID 설정 | 10분 |
| iOS 프로젝트 생성 | `npx cap add ios` | 5분 |
| Android 프로젝트 생성 | `npx cap add android` | 5분 |
| 홈 화면 수정 | 웹사이트형 → 앱형 (바로 대시보드 표시) | 1~2시간 |
| 스플래시 스크린 설정 | 앱 로딩 화면 | 30분 |
| 앱 아이콘 설정 | App Store/Play Store용 아이콘 | 30분 |
| 푸시 알림 연동 | Capacitor Push Notification 플러그인 | 1~2시간 |
| 빌드 및 테스트 | iOS/Android 빌드 확인 | 1~2시간 |
| **합계** | | **약 6~8시간** |

### 앱 진입 화면 변경 계획

**현재 (웹사이트형):**
```
/ (홈) → 스크롤 랜딩 페이지 → "대시보드로 이동" 버튼 클릭 → /dashboard
```

**변경 후 (앱형):**
```
앱 실행 → 스플래시 스크린 → 로그인 확인 → 바로 대시보드 (하단 6개 탭)
                                          → 미로그인 시 로그인 화면
```

### 앱 구조

```
┌─────────────────────────────┐
│  상단 바 (시간/비트코인/날씨)  │
├─────────────────────────────┤
│                             │
│                             │
│      메인 콘텐츠 영역         │
│   (대시보드/마이/미션/쇼핑     │
│    /커뮤니티/VIP)            │
│                             │
│                             │
├─────────────────────────────┤
│  홈 │ 마이 │ 미션 │ 쇼핑 │ 커뮤 │ VIP │
└─────────────────────────────┘
```

---

## 4. 실행 계획 (오늘 완성 목표)

### Phase 1: 즉시 실행 가능 (Manus 환경에서)

| 순서 | 작업 | 설명 |
|------|------|------|
| 1 | 홈 화면을 앱형으로 변경 | `/` 접속 시 바로 대시보드 표시 (랜딩 페이지 제거 또는 별도 경로로 이동) |
| 2 | 앱 진입 플로우 수정 | 로그인 → 바로 대시보드, 미로그인 → 로그인 화면 |
| 3 | 모바일 최적화 확인 | 모든 페이지가 모바일에서 완벽하게 표시되는지 확인 |
| 4 | 체크포인트 저장 | 안정적인 상태 저장 |

### Phase 2: 로컬 환경에서 (Xcode/Android Studio 필요)

| 순서 | 작업 | 설명 |
|------|------|------|
| 5 | Capacitor 설치 | 프로젝트에 Capacitor 추가 |
| 6 | iOS 프로젝트 생성 | Xcode에서 빌드 |
| 7 | Android 프로젝트 생성 | Android Studio에서 빌드 |
| 8 | 앱 아이콘/스플래시 설정 | 브랜딩 적용 |
| 9 | 네이티브 플러그인 추가 | 푸시알림, 카메라 등 |
| 10 | App Store/Play Store 제출 | 심사 제출 |

**참고:** Phase 2는 Mac(Xcode)과 Android Studio가 필요하므로 Manus 환경에서는 설정 파일까지만 준비하고, 실제 빌드는 로컬 환경에서 진행해야 합니다.

---

## 5. 비용 및 요구사항

### App Store/Play Store 배포 요구사항

| 항목 | Apple App Store | Google Play Store |
|------|----------------|-------------------|
| 개발자 계정 | Apple Developer ($99/년) | Google Play Console ($25 일회성) |
| 빌드 환경 | Mac + Xcode 필수 | Windows/Mac/Linux + Android Studio |
| 심사 기간 | 1~3일 | 1~7일 |
| 앱 아이콘 | 1024x1024 PNG | 512x512 PNG |
| 스크린샷 | 6.7", 6.5", 5.5" 각 최소 1장 | 최소 2장 |

---

## 6. 결론

**Capacitor를 사용하면 현재 코드를 95~100% 재사용하면서 App Store/Play Store에 배포할 수 있습니다.**

오늘 Manus에서 할 수 있는 작업:
1. ✅ 홈 화면을 앱형으로 변경 (랜딩 페이지 → 바로 대시보드)
2. ✅ Capacitor 설정 파일 준비
3. ✅ 앱 아이콘/스플래시 스크린 디자인
4. ✅ 모바일 최적화 완료

이후 로컬 환경에서:
5. Mac에서 Xcode로 iOS 빌드
6. Android Studio로 Android 빌드
7. App Store/Play Store 제출
